
---
output: md_document
---

```{r echo=FALSE, output=FALSE, eval=FALSE}
## This is just to build a small example to output to a .md
## file and then paste to README.md
## the following may help to set pandoc version
## Sys.setenv(PATH=paste0("/opt/software/pandoc/bin:", Sys.getenv("PATH")))
```


```{r echo=FALSE, output=FALSE, message=FALSE}
library(knitr) ## kable
opts_chunk$set(comment=NA)
##opts_chunk$set(echo=FALSE)
##opts_chunk$set(dev = 'pdf')
##opts_chunk$set(fig.height=7)
##opts_chunk$set(fig.align="center")
```

Repository creation in the default folder:

```{r echo=FALSE, output=FALSE, message=FALSE}
library(repo)
rp <- repo_open(tempdir(), T)
```

```{r, eval=FALSE}
library(repo)
rp <- repo_open()
```

```{r echo=FALSE, output=FALSE, message=FALSE}
rp$options(replace=T)
```



Putting some stuff (it is saved on permanent storage). In this case, just
values and names are specified:

```{r}
rp$put(Inf, "God")
rp$put(0, "user")
```
Putting specifying dependencies:

```{r}
rp$put(pi, "The Pi costant", depends="God")
rp$put(1:10, "r", depends="user")
```

Getting stuff from the repository on the fly:

```{r}
diam <- 2 * rp$get("r")
circum <- 2 * rp$get("The Pi costant") * rp$get("r")
area <- rp$get("The Pi costant") * rp$get("r") ^ 2
```
Putting with verbose descriptions:
```{r}
rp$put(diam, "diameters", "These are the diameters", depends = "r")
rp$put(circum, "circumferences", "These are the circumferences",
       depends = c("The Pi costant", "r"))
rp$put(area, "areas", "This are the areas",
       depends = c("The Pi costant", "r"))
```
Repository contents:

```{r}
print(rp)
rp$info()
rp$info("area")
```
Visualizing dependencies:

```{r}
rp$dependencies()
```
